{% extends 'general_app/components/base.html' %}
{% load static %}

{% block title %}Gacha{% endblock %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static '/css/gacha-select-style.css' %}">
{% endblock %}

{% block content %}
<div class="main-container parallelogram" id="gacha-selection-container">
    <div class="gacha-selection-grid">
        <div class="sub-container">
            <p>SOME MESSAGES</p>
        </div>
        <div class="sub-container">
            <div id="banner-selector">
                <ul>
                    {% for banner in banners %}
                    <li>
                        <a href="{% url 'gacha_detail' gacha_id=banner.id %}">
                            {% if banner.image %}
                            <img src="{{ banner.image }}" alt="{{ banner.name }}">
                            {% else %}
                            <img src="{% static '/image/gacha/banner_dummy.png' %}" alt="{{ banner.name }}">
                            {% endif %}
                        </a>
                        <p>{{ banner.name }}</p>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            <div id="selection-controller">
                {% for idx in banner_idx %}
                <span class="dot" onclick="jumpIndex({{ idx }})"></span>
                {% endfor %}
                <button id="prev-btn" onclick="updateIndex(-1)">&#10094;</button>
                <button id="next-btn" onclick="updateIndex(1)">&#10095;</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
<script src="{% static 'js/banner-selector.js' %}"></script>
{% endblock %}