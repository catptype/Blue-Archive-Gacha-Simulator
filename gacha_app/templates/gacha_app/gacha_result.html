{% extends 'general_app/components/base.html' %}
{% load static %}

{% block title %}Gacha Result{% endblock %}

{% block content %}
   <!-- Display drawn characters -->
   {% if drawn_students %}
   <div class="container">
    <h2>Draw Result:</h2>
    <div class="gacha-result-grid">
        {% for student in drawn_students %}
        <div class="student-card">
            <img src="{{ student.image.url }}" alt="{{ student.name }}_{{ student.version_name }}">
            <p>{{ student.name }}<br>({{ student.version_name}})<br>{% for _ in "★"|rjust:student.rarity %}★{% endfor %}</p>
        </div>
        {% endfor %}    
    </div>
    <!-- Add buttons for 1 draw and 10 draw -->
    <form method="post" action="{% url 'gacha_result' gacha_id=banner.id %}?id=123123">
        {% csrf_token %}
        <button class="btn btn-primary p-2 mb-3" type="submit" name="draw_{{ num_draw }}">{{ num_draw }} Draw again</button>
    </form>
    <a href="{% url 'gacha_detail' gacha_id=banner.id %}" class="btn btn-primary p-2 mb-3">Go back</a>
   </div>
   {% endif %}

   
{% endblock %}